# Running Weather Advisor 使用说明

## 概述

Running Weather Advisor 是一个为晨跑爱好者设计的个性化建议工具，它结合了生理节律和天气数据，为用户提供最适合的跑步指导。

## 功能特性

- **生理节律分析**：计算身体、情感、智力三个周期的当前状态
- **天气信息获取**：获取当前温度、天气状况、湿度、风速等
- **个性化建议**：基于生理和天气条件的跑步适宜性分析
- **着装推荐**：根据温度提供穿衣建议
- **晨跑专项建议**：针对晨跑者的特别提示

## 安装方法

安装脚本已经运行完成，技能已部署到系统中。

## 使用方法

### 命令行使用

进入技能目录并执行脚本：

```bash
# 进入技能目录
cd /home/chengzh/clawd/skills/running-weather-advisor/

# 为默认用户（1977年3月4日出生，上海闵行区）生成今日跑步建议
./running_advisor_simple.sh

# 为指定用户在指定位置生成跑步建议
./running_advisor_simple.sh 1977-03-04 Beijing

# 为指定用户在指定位置和日期生成跑步建议
./running_advisor_simple.sh 1977-03-04 Beijing 2026-02-02
```

### 参数说明

- `birth_date`（可选）：出生日期，格式为 YYYY-MM-DD，默认为 1977-03-04
- `location`（可选）：要查询的位置，可以是邮编或城市名，默认为 201108（上海闵行）
- `date`（可选）：要查询的日期，格式为 YYYY-MM-DD，默认为今天

## 输出内容

### 生理节律分析
- **身体周期**：影响体力和耐力（-100%到+100%）
- **情感周期**：影响情绪稳定性（-100%到+100%）
- **智力周期**：影响专注力和技术判断（-100%到+100%）

### 天气信息
- 当前温度
- 天气状况（晴、雨、雪等）
- 湿度百分比
- 风速

### 个性化建议
- 是否适合户外跑步
- 推荐的运动强度
- 合适的着装建议

### 晨跑专项建议
- 空气质量注意事项
- 体感温度穿衣法则
- 湿度影响处理
- 风向规划建议
- 安全防护提示

## 示例

```bash
# 为1977年3月4日出生的人在北京生成今日跑步建议
./running_advisor_simple.sh 1977-03-04 Beijing

# 为指定日期生成跑步建议
./running_advisor_simple.sh 1977-03-04 100001 2026-02-02
```

## 依赖项

- `curl`：用于获取天气数据
- `bc`：用于数学计算
- 网络连接：需要能够访问 wttr.in 服务

## 生理节律算法说明

该技能使用经典的生理节律理论：
- **身体周期**：23天循环，影响体力和耐力
- **情感周期**：28天循环，影响情绪稳定性
- **智力周期**：33天循环，影响专注力和技术判断

根据出生日期计算当前在各周期中的位置，正值表示状态较好，负值表示状态较弱。

## 晨跑建议说明

1. **空气质量**：晨跑前检查AQI指数，超过100时建议减少户外运动
2. **体感温度**：按比当前气温高10°C的标准穿衣，出门时应感到微凉
3. **湿度影响**：高湿度(>80%)时降低配速，避免心率飙升
4. **风向规划**：理想起跑时逆风、返程顺风，避免湿透衣服后受寒
5. **安全防护**：冬季晨跑光线不足时穿着反光装备，夏季注意防晒

## 故障排除

### 常见问题

1. **无法获取天气数据**
   - 检查网络连接
   - 确认可以访问 wttr.in 服务

2. **显示乱码**
   - 确保终端支持 UTF-8 编码

### 解决方法

- 如果遇到网络问题，可以尝试使用 VPN 或代理
- 如果位置名称包含特殊字符，请用引号包围

## 技术细节

- 数据源：[wttr.in](https://wttr.in) - 专业的天气服务
- 生理节律算法：基于经典三周期理论
- 显示格式：优化过的中文界面
- 超时设置：单个请求最大超时时间为 8 秒